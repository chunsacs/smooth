{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 06b4c081b19592fc6940","webpack:///./src/smooth.js","webpack:///./~/raf/index.js","webpack:///./~/performance-now/lib/performance-now.js","webpack:///./~/process/browser.js","webpack:///./~/vendor-prefix/index.js"],"names":["raf","require","prefix","transform","dash","transition","Smooth","VERSION","opt","arguments","length","undefined","handlers","run","debounce","resize","perfs","now","last","vars","preload","current","target","height","documentHeight","bounding","timer","ticking","firstFrame","ticketScroll","smoothContainer","smoothSection","el","document","body","animation","transformType","axis","ease","initialValue","dom","fakeDiv","elementsParallaxe","elementsTrigger","preloadImages","addEvents","reflow","element","animations","push","trigger","triggered","elements","i","addElement","addElements","startValue","findStart","endValue","findEnd","images","Array","prototype","slice","call","querySelectorAll","forEach","image","img","Image","onload","splice","indexOf","bind","src","getAttribute","clearTimeout","classList","add","setTimeout","remove","window","scrollY","pageYOffset","addScrollingClass","console","log","updatesmoothContainer","old","updateParallaxeElements","checkTriggerElements","notScrolling","done","properties","computeTransformStyle","setStyle","frame","index","j","before","after","edge","transformDone","indexTransform","transformAnimation","finalValue","computeClassicStyle","progress","Math","min","max","currentValue","isInit","reset","initialStyles","finalStyles","style","tfAnimation","value","smoothValue","roundedValue","round","property","noParsing","parseStyle","opacity","parsedStyle","currentProperty","x","y","z","both","elem","finalStyle","duration","easing","delay","addEventListener","removeEventListener","cancel","parentNode","removeChild","position","width","createElement","className","insertBefore","nextSibling","bodyRect","getBoundingClientRect","elemRect","offset","top","start","getOffset","elementHeight","offsetHeight","windowHeight","factor","viewFactorStart","isNaN","positionTop","parseInt","end","viewFactorEnd","positionBottom","array","Number","MAX_VALUE","a","counter","html","documentElement","scrollHeight","clientHeight","l","getPositionStart","getPositionEnd","setTransformSequence","k","initialValues","finalValues","animationObject","generateTransition","prop","addFakeScrollHeight","addFakeHeight","innerHeight","clientWidth","innerWidth","getDocumentHeight","removeFakeScrollHeight","removeFakeHeight","removeEvents"],"mappings":"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T,CAAyBgB,WAAzB,IAAwC3G,OAAO4G,UAAjE;AACA,YAAK1K,IAAL,CAAUK,cAAV,GAA2B,KAAKsK,iBAAL,EAA3B;AACA,YAAKhJ,MAAL;AAED;;;+BAEQ;;AAEP,WAAG,KAAKL,OAAR,EAAiB,KAAKsJ,sBAAL;AACjB,YAAKC,gBAAL;AACA,YAAKC,YAAL;;AAEA,YAAKtJ,eAAL,CAAqBjC,MAArB,GAA8B,CAA9B;AACA,YAAKiC,eAAL,GAAuB,EAAvB;;AAEA,YAAKD,iBAAL,CAAuBhC,MAAvB,GAAgC,CAAhC;AACA,YAAKgC,iBAAL,GAAyB,EAAzB;AAED;;;;;;mBA/2BiBpC,M;;;;;;;AChBtB;AACA;AACA;AACA;AACA;AACA;;AAEA,eAAc,4BAA4B;AAC1C;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAsB,eAAe;AACrC;AACA;AACA;AACA,cAAa;AACb,sCAAqC,UAAU;AAC/C;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;;AAEA;AACA,mBAAkB,kBAAkB;AACpC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;ACvEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;;AAEA,EAAC;;;;;;;;AC/BD;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,MAAK;AACL;AACA;AACA,EAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,wBAAuB,sBAAsB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAqB;AACrB;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,4BAA2B;AAC3B;AACA;AACA;AACA,6BAA4B,UAAU;;;;;;;ACnLtC;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,UAAS;AACT;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA","file":"Smooth.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"Smooth\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Smooth\"] = factory();\n\telse\n\t\troot[\"Smooth\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 06b4c081b19592fc6940","var raf         = require('raf');\nvar prefix      = require('vendor-prefix');\nvar transform   = prefix.dash('transform');\nvar transition  = prefix.dash('transition');\n\n/*!\n * smooth core\n *\n * Tim Roussilhe\n *\n * Free to use under terms of MIT license\n */\n\n/*!\n\n */\n export default class Smooth {\n\t\t/*\n\t\t * Global api.\n\t\t */\n\n\t\tconstructor() {\n\t\t\t\tthis.VERSION = '0.0.1'\n\n\t\t\t\tvar opt = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n\n\t\t\t\tthis.handlers = {\n\t\t\t\t\t\trun: null,\n\t\t\t\t\t\tdebounce: null,\n\t\t\t\t\t\tresize: null\n\t\t\t\t};\n\n\t\t\t\tthis.perfs = {\n\t\t\t\t\t\tnow: null,\n\t\t\t\t\t\tlast: null\n\t\t\t\t};\n\n\t\t\t\tthis.vars = {\n\t\t\t\t\t\tpreload : opt.preload || true,\n\t\t\t\t\t\tcurrent : 0,\n\t\t\t\t\t\ttarget : 0,\n\t\t\t\t\t\theight : 0,\n\t\t\t\t\t\tdocumentHeight : 0,\n\t\t\t\t\t\tbounding : 0,\n\t\t\t\t\t\ttimer : null,\n\t\t\t\t\t\tticking : false\n\t\t\t\t};\n\n\t\t\t\t//pony trick here, we remove easing on frist frame to avoid flash or blink or big scroll\n\t\t\t\tthis.firstFrame = true;\n\n\t\t\t\tthis.ticketScroll = false;\n\n\t\t\t\tthis.smoothContainer = opt.smoothContainer;\n\n\t\t\t\tif(this.smoothContainer){\n\n\t\t\t\t\t\tthis.smoothSection = {\n\t\t\t\t\t\t\t\tel :  opt.smoothSection ? opt.smoothSection : document.body,\n\t\t\t\t\t\t\t\tanimation :\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\ttransform : [\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttransformType : 'translate3d',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\taxis : 'y',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tease : 0.15,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tinitialValue : 0\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\t//lister is use for smooth scrolling container\n\t\t\t\tthis.dom = document.body;\n\t\t\t\tthis.fakeDiv = null;\n\n\t\t\t\tthis.elementsParallaxe = [];\n\t\t\t\tthis.elementsTrigger = [];\n\n\t\t\t\tthis.resize();\n\n\t\t}\n\n\t\t\t\tinit(){\n\n\t\t\t\t\t\tthis.vars.preload && this.preloadImages();\n\n\t\t\t\t\t\tthis.addEvents();\n\n\t\t\t\t\t\t!this.vars.preload && this.resize();\n\n\t\t\t\t}\n\n\t\t\t\tstart() {\n\t\t\t\t\t\tthis.reflow();\n\t\t\t\t\t\tthis.raf = raf(this.handlers.run);\n\t\t\t\t}\n\n\t\t\t\taddElement(element) {\n\n\t\t\t\t\t\tif(element.animations !== undefined){\n\n\t\t\t\t\t\t\tthis.elementsParallaxe.push(element);\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif(element.trigger !== undefined){\n\n\t\t\t\t\t\t\telement.triggered = false;\n\t\t\t\t\t\t\tthis.elementsTrigger.push(element);\n\n\t\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\taddElements(elements){\n\n\t\t\t\t\t\tfor (var i = 0; i < elements.length; i++) {\n\n\t\t\t\t\t\t\t\tthis.addElement(elements[i]);\n\n\t\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t\t//In case we wanna add dynamic value from the instaciation of the parent resize\n\t\t\t\tresetElements(elements){\n\n\t\t\t\t\t\tthis.elementsParallaxe = [];\n\t\t\t\t\t\tthis.elementsTrigger = [];\n\n\t\t\t\t\t\tthis.addElements(elements);\n\t\t\t\t\t\tthis.reflow();\n\n\t\t\t\t}\n\t\t\t\t//If an object as several transform we need extra work ( thanks you css !)\n\t\t\t\tsetTransformSequence(animation){\n\n\t\t\t\t\t\tanimation.startValue = this.findStart(animation.transform);\n\t\t\t\t\t\tanimation.endValue = this.findEnd(animation.transform);\n\n\t\t\t\t}\n\n\t\t\t\tpreloadImages(){\n\n\t\t\t\t\t\tvar images = Array.prototype.slice.call(this.dom.querySelectorAll('img'), 0);\n\n\t\t\t\t\t\timages.forEach(function (image) {\n\n\t\t\t\t\t\t\t\tvar img = new Image();\n\n\t\t\t\t\t\t\t\timg.onload = function (el) {\n\n\t\t\t\t\t\t\t\t\t\timages.splice(images.indexOf(image), 1);\n\t\t\t\t\t\t\t\t\t\timages.length === 0 && this.resize();\n\n\t\t\t\t\t\t\t\t}.bind(this);\n\n\t\t\t\t\t\t\t\timg.src = image.getAttribute('src');\n\t\t\t\t\t\t}.bind(this));\n\n\t\t\t\t}\n\n\t\t\t\tdebounce(){\n\n\t\t\t\t\t\tthis.ticketScroll = true;\n\n\t\t\t\t}\n\n\t\t\t\taddScrollingClass(){\n\n\t\t\t\t\t\tclearTimeout(this.vars.timer);\n\n\t\t\t\t\t\tif (!this.vars.ticking) {\n\t\t\t\t\t\t\t\tthis.vars.ticking = true;\n\n\t\t\t\t\t\t\t\tthis.dom.classList.add('is-scrolling');\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tthis.vars.timer = setTimeout(function () {\n\t\t\t\t\t\t\t\tthis.vars.ticking = false;\n\n\t\t\t\t\t\t\t\tthis.dom.classList.remove('is-scrolling');\n\n\t\t\t\t\t\t}.bind(this), 200);\n\n\t\t\t\t}\n\t\t\t\trun(){\n\n\t\t\t\t\t\tif( this.ticketScroll ){\n\n\t\t\t\t\t\t\t\tthis.vars.target = window.scrollY || window.pageYOffset;\n\t\t\t\t\t\t\t\tthis.addScrollingClass();\n\t\t\t\t\t\t\t\tthis.ticketScroll = false;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tthis.vars.current = this.vars.target;\n\t\t\t\t\t\tthis.vars.current < .1 && (this.vars.current = 0);\n\n\t\t\t\t\t\tconsole.log('this.vars.current', this.vars.current);\n\n\t\t\t\t\t\t// If we are having a global smooth container\n\t\t\t\t\t\t// Animate it following scroll position of dom\n\t\t\t\t\t\tif(this.smoothContainer) this.updatesmoothContainer(this.vars.current===this.vars.old);\n\n\t\t\t\t\t\t//Still not sure why i pass frame here since we register this globaly...\n\t\t\t\t\t\tthis.updateParallaxeElements(this.vars.current , this.vars.current===this.vars.old );\n\t\t\t\t\t\tif(this.vars.current !=this.vars.old) this.checkTriggerElements(this.vars.current);\n\n\t\t\t\t\t\tthis.vars.old = this.vars.current;\n\n\t\t\t\t\t\t//this.rAF = requestAnimationFrame(this.run.bind(this));\n\t\t\t\t\t\tthis.raf = raf(this.handlers.run);\n\n\t\t\t\t}\n\t\t\t\tupdatesmoothContainer(notScrolling){\n\n\t\t\t\t\t\tif( !this.smoothSection.animation.transform[0].done || !notScrolling){\n\n\t\t\t\t\t\t\t\tthis.smoothSection.animation.properties = [];\n\t\t\t\t\t\t\t\t//so far we only allow one transform on the body (x or y)\n\t\t\t\t\t\t\t\tthis.computeTransformStyle(this.smoothSection.animation ,this.smoothSection.animation.transform[0], -this.vars.current);\n\n\t\t\t\t\t\t\t\tthis.setStyle( this.smoothSection.el , this.smoothSection.animation.properties);\n\n\t\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t\t/**\n\t\t\t\t* Update all Elements\n\t\t\t\t* Edge Management\n\t\t\t\t*/\n\t\t\t\tupdateParallaxeElements(frame, notScrolling){\n\n\t\t\t\t\t\tvar index = 0;\n\t\t\t\t\t\tfor(; index < this.elementsParallaxe.length; index++) {\n\n\t\t\t\t\t\t\t\tvar element = this.elementsParallaxe[index];\n\t\t\t\t\t\t\t\tvar properties = [];\n\n\t\t\t\t\t\t\t\tfor (var j = 0; j < element.animations.length; j++) {\n\n\t\t\t\t\t\t\t\t\t\tvar animation = element.animations[j];\n\t\t\t\t\t\t\t\t\t\tvar before = frame < animation.startValue;\n\t\t\t\t\t\t\t\t\t\tvar after = frame > animation.endValue;\n\n\t\t\t\t\t\t\t\t\t\t//create a new array to catch all properties related to the same el\n\t\t\t\t\t\t\t\t\t\tanimation.properties = [];\n\n\t\t\t\t\t\t\t\t\t\t//If we are before/after the first/`last frame, set the styles according first/last value.\n\t\t\t\t\t\t\t\t\t\tif(before || after) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t//we are at firt or last and allready setStyle to reach initial/final Value\n\t\t\t\t\t\t\t\t\t\t\t\tif(before && animation.edge === -1 || after && animation.edge === 1){\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif(animation.done) continue;\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t\tanimation.edge = before ? -1 : 1;\n\n\t\t\t\t\t\t\t\t\t\t\t\tif(animation.transform){\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t//We need to check that all subAnimation are done so we use this as a flag\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar transformDone = true;\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfor (var indexTransform = 0; indexTransform < animation.transform.length; indexTransform++) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar transformAnimation = animation.transform[indexTransform];\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.computeTransformStyle( animation , transformAnimation , animation.edge === -1 ? transformAnimation.initialValue : transformAnimation.finalValue);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif( transformAnimation.done === false ) transformDone = false;\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t//no we check the flag\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// if one of the subAnimation is not done the flag will be false\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// // if all done then the main animation is done\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif( transformDone === true ){\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tanimation.done = true;\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}else{\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tanimation.done = false;\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t\t}else{\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.computeClassicStyle( animation , animation.edge === -1 ? animation.initialValue : animation.finalValue);\n\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t\t//now we have array of properties we gonna parse them and apply them\n\t\t\t\t\t\t\t\t\t\t\t\tif( animation.properties.length > 0) this.setStyle( element.el ,animation.properties );\n\n\t\t\t\t\t\t\t\t\t\t\t\tcontinue;\n\n\t\t\t\t\t\t\t\t\t\t}else{\n\n\t\t\t\t\t\t\t\t\t\t\t\tif(animation.done && animation.edge ===0 && notScrolling) continue;\n\t\t\t\t\t\t\t\t\t\t\t\tanimation.edge = 0;\n\n\t\t\t\t\t\t\t\t\t\t\t\t//We need to check that all subAnimation are done so we use this as a flag\n\t\t\t\t\t\t\t\t\t\t\t\tvar transformDone = true;\n\n\t\t\t\t\t\t\t\t\t\t\t\tif(animation.transform){\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfor (var indexTransform = 0; indexTransform < animation.transform.length; indexTransform++) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar transformAnimation = animation.transform[indexTransform];\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t//Cap progress between 0 and 1 ( Mostly because of transform sequences )\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar progress = Math.min(Math.max((frame - transformAnimation.startValue ) / ( transformAnimation.endValue - transformAnimation.startValue),0), 1);\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t//TODO ADD EASING\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// progress = left.props[key].easing(progress);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar currentValue =  transformAnimation.initialValue + ((transformAnimation.finalValue - transformAnimation.initialValue) * progress);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.computeTransformStyle(animation,transformAnimation,currentValue);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif( transformAnimation.done === false ) transformDone = false;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t//no we check the flag\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// if one of the subAnimation is not done the flag will be false\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// if all done then the main animation is done\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif( transformDone === true ){\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tanimation.done = true;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tanimation.done = false;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t\t}else{\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar progress = (frame - animation.startValue ) / ( animation.endValue - animation.startValue);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar currentValue =  animation.initialValue + ((animation.finalValue - animation.initialValue) * progress);\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.computeClassicStyle(animation,currentValue);\n\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t\t// now we have array of properties we gonna parse them and apply them\n\t\t\t\t\t\t\t\t\t\t\t\t// we are doing this one per animation not once per element\n\t\t\t\t\t\t\t\t\t\t\t\tif( animation.properties.length > 0 ) this.setStyle( element.el , animation.properties );\n\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tcheckTriggerElements(frame){\n\n\t\t\t\t\t\tvar index = 0;\n\t\t\t\t\t\tfor(; index < this.elementsTrigger.length; index++) {\n\n\t\t\t\t\t\t\t\tvar element = this.elementsTrigger[index];\n\t\t\t\t\t\t\t\tvar before = frame < element.startValue;\n\n\t\t\t\t\t\t\t\t//add css transition and trigger first position\n\t\t\t\t\t\t\t\tif(!element.isInit){\n\n\t\t\t\t\t\t\t\t\t\tthis.setStyle(element.el,element.transition,true);\n\t\t\t\t\t\t\t\t\t\telement.isInit = true;\n\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t// So far we are not using after for the trigger\n\t\t\t\t\t\t\t\tif(before) {\n\n\t\t\t\t\t\t\t\t\t\tif(before && element.edge === -1 ) continue;\n\n\t\t\t\t\t\t\t\t\t\telement.edge = before ? -1 : 1;\n\n\t\t\t\t\t\t\t\t\t\t// if we are going back before trigger point\n\t\t\t\t\t\t\t\t\t\t// triggered = false\n\t\t\t\t\t\t\t\t\t\tif(element.trigger.reset){\n\n\t\t\t\t\t\t\t\t\t\t\t\tfor (var i = 0; i < element.initialStyles.length; i++) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.setStyle(element.el,element.initialStyles[i],true);\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t\telement.triggered = false;\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t}else if(!element.triggered){\n\n\t\t\t\t\t\t\t\t\t\telement.edge = 0;\n\t\t\t\t\t\t\t\t\t\telement.triggered = true;\n\n\t\t\t\t\t\t\t\t\t\tfor (var i = 0; i < element.finalStyles.length; i++) {\n\t\t\t\t\t\t\t\t\t\t\t\tthis.setStyle(element.el,element.finalStyles[i].style,true);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t\t//OUTPUT\n\t\t\t\tcomputeTransformStyle(animation,tfAnimation,value){\n\n\t\t\t\t\t\t//We calculate smooth value here if easing\n\t\t\t\t\t\t//here means first fucking frame\n\t\t\t\t\t\tif(tfAnimation.smoothValue === undefined){\n\t\t\t\t\t\t\t\ttfAnimation.smoothValue = tfAnimation.initialValue;\n\t\t\t\t\t\t\t\ttfAnimation.smoothValue += (value - tfAnimation.smoothValue);\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\ttfAnimation.smoothValue += ((value - tfAnimation.smoothValue) * tfAnimation.ease);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tvar roundedValue = Math.round(tfAnimation.smoothValue * 1000)/1000;\n\n\t\t\t\t\t\t// checking if animation of transform value is done\n\t\t\t\t\t\t// check if animation is done comparing the final value to the rounded one\n\t\t\t\t\t\t// we need to round the final value too to be able to compate to roundedValue\n\t\t\t\t\t\tif(Math.round(value * 1000)/1000 === roundedValue) tfAnimation.done = true;\n\t\t\t\t\t\telse tfAnimation.done = false;\n\n\t\t\t\t\t\t//We check if there is allready a transform in the main animation\n\t\t\t\t\t\tif(animation.properties){\n\n\t\t\t\t\t\t\t\tfor (var i = 0; i < animation.properties.length; i++) {\n\n\t\t\t\t\t\t\t\t\t\t//Case for transform\n\t\t\t\t\t\t\t\t\t\tif(animation.properties[i].property === tfAnimation.transformType){\n\n\t\t\t\t\t\t\t\t\t\t\t\tanimation.properties[i][tfAnimation.axis] = roundedValue;\n\n\t\t\t\t\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t//If there is no transform we create the object\n\t\t\t\t\t\tvar style = {\n\t\t\t\t\t\t\t\tproperty : tfAnimation.transformType\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\tstyle[tfAnimation.axis] = roundedValue;\n\n\t\t\t\t\t\t//push value to parent animation\n\t\t\t\t\t\tanimation.properties.push(style);\n\t\t\t\t}\n\n\t\t\t\tcomputeClassicStyle( animation , value ){\n\n\t\t\t\t\t\t// We calculate smooth value here if easing\n\t\t\t\t\t\t// here means first fucking frame so no easing to avoid blick/flash etc\n\t\t\t\t\t\tif(animation.smoothValue === undefined){\n\t\t\t\t\t\t\t\tanimation.smoothValue = animation.initialValue;\n\t\t\t\t\t\t\t\tanimation.smoothValue += (value - animation.smoothValue);\n\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\tanimation.smoothValue += ((value - animation.smoothValue) * animation.ease);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tvar roundedValue = Math.round(animation.smoothValue * 100)/100;\n\n\t\t\t\t\t\tvar style = {\n\t\t\t\t\t\t\t\tproperty : animation.property,\n\t\t\t\t\t\t\t\tvalue : roundedValue\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\t//check if animation is done comparing the final value to the rounded one\n\t\t\t\t\t\t// we need to round the final value too to be able to compate to roundedValue\n\t\t\t\t\t\tif(Math.round(value * 100)/100 === roundedValue) animation.done = true;\n\t\t\t\t\t\telse animation.done = false;\n\n\t\t\t\t\t\t//save property into animation object\n\t\t\t\t\t\tanimation.properties.push(style);\n\n\t\t\t\t}\n\n\t\t\t\t/**\n\t\t\t\t* Set Future Style\n\t\t\t\t* Element is here to pass el of current Element\n\t\t\t\t* Animation is current animation of element ( need to be precised because it can be several ones )\n\t\t\t\t* Value is current scroll value ( need to be calculated before ) Here we just apply momemtum is ease < 1\n\t\t\t\t*/\n\t\t\t\t// rounded number\n\t\t\t\t// https://jsperf.com/parsefloat-tofixed-vs-math-round\n\n\t\t\t\tsetStyle( el , style , noParsing ){\n\n\t\t\t\t\t\tif(!noParsing) var style = this.parseStyle( style );\n\n\t\t\t\t\t\tif(style[0]==='transform'){\n\t\t\t\t\t\t\t\tel.style[transform] = style[1];\n\t\t\t\t\t\t}else if(style[0]==='opacity'){\n\t\t\t\t\t\t\t\tel.style.opacity = style[1];\n\t\t\t\t\t\t}else if(style[0]==='transition'){\n\t\t\t\t\t\t\t\tel.style[transition] = style[1];\n\t\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\t// return an object containing all style\n\t\t\t\t// ====>\n\t\t\t\t// Example Object {transform: \"translate3d(66.5px,66.5px,0) scale3d(1.06,1.06,1)\"}\n\t\t\t\t// ====>\n\t\t\t\tparseStyle(properties){\n\t\t\t\t\t\t// could use regexpt and a pattern here but want to avoid replace inside raf\n\t\t\t\t\t\t// so we chose switch and string concatenation\n\t\t\t\t\t\t// also useful if we want to add more control here such as translate or translate3d... background color calculcation etc\n\t\t\t\t\t\t// https://jsperf.com/string-concat-vs-regex-replace/2\n\n\t\t\t\t\t\t//TODO Centralize Animations when severals animations and at the end set all style\n\t\t\t\t\t\t// AND return all\n\t\t\t\t\t\tvar parsedStyle = [];\n\n\t\t\t\t\t\tfor (var i = 0; i < properties.length; i++) {\n\n\t\t\t\t\t\t\t\tvar currentProperty = properties[i];\n\t\t\t\t\t\t\t\tswitch(currentProperty.property) {\n\n\t\t\t\t\t\t\t\t\t\tcase 'translate3d':\n\n\t\t\t\t\t\t\t\t\t\t\t\tvar x = currentProperty.x ? currentProperty.x+'px' : 0;\n\t\t\t\t\t\t\t\t\t\t\t\tvar y = currentProperty.y ? currentProperty.y+'px' : 0;\n\t\t\t\t\t\t\t\t\t\t\t\tvar z = currentProperty.z ? currentProperty.z+'px' : 0;\n\n\t\t\t\t\t\t\t\t\t\t\t //parsedStyle['transform'] ? parsedStyle['transform'] += ' translate3d('+ x +','+ y +','+ z +')' : parsedStyle[\"transform\"] = 'translate3d('+ x +','+ y +','+ z +')';\n\t\t\t\t\t\t\t\t\t\t\t if(parsedStyle[0]==='transform'){\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tparsedStyle[1] += ' translate3d('+ x +','+ y +','+ z +')'\n\t\t\t\t\t\t\t\t\t\t\t }else{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tparsedStyle[0] = 'transform';\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tparsedStyle[1] = 'translate3d('+ x +','+ y +','+ z +')'\n\t\t\t\t\t\t\t\t\t\t\t }\n\n\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t\tcase 'scale3d':\n\n\t\t\t\t\t\t\t\t\t\t\t\tvar x = currentProperty.x || currentProperty.both ? currentProperty.x || currentProperty.both : 1;\n\t\t\t\t\t\t\t\t\t\t\t\tvar y = currentProperty.y || currentProperty.both ? currentProperty.y || currentProperty.both : 1;\n\t\t\t\t\t\t\t\t\t\t\t\tvar z = currentProperty.z ? currentProperty.z+'px' : 1;\n\n\t\t\t\t\t\t\t\t\t\t\t\t//parsedStyle[\"transform\"] ?  parsedStyle[\"transform\"] += ' scale3d('+ x +','+ y +','+ z +')' : parsedStyle[\"transform\"] = 'scale3d('+ x +','+ y +','+ z +')'\n\t\t\t\t\t\t\t\t\t\t\t\tif(parsedStyle[0]==='transform'){\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tparsedStyle[1] += ' scale3d('+ x +','+ y +','+ z +')'\n\t\t\t\t\t\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tparsedStyle[0] = 'transform';\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tparsedStyle[1] = 'scale3d('+ x +','+ y +','+ z +')'\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t\tcase 'rotate3d':\n\n\t\t\t\t\t\t\t\t\t\t\t\tvar x = currentProperty.x || currentProperty.both ? currentProperty.x || currentProperty.both : 1;\n\t\t\t\t\t\t\t\t\t\t\t\tvar y = currentProperty.y || currentProperty.both ? currentProperty.y || currentProperty.both : 1;\n\t\t\t\t\t\t\t\t\t\t\t\tvar z = currentProperty.z ? currentProperty.z+'px' : 1;\n\n\t\t\t\t\t\t\t\t\t\t\t\t//parsedStyle[\"transform\"] = parsedStyle[\"transform\"] = 'rotate('+currentProperty.y+'deg)'\n\t\t\t\t\t\t\t\t\t\t\t\tif(parsedStyle[0]==='transform'){\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tparsedStyle[1] += ' rotate('+ x +','+ y +','+ z +')'\n\t\t\t\t\t\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tparsedStyle[0] = 'transform';\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tparsedStyle[1] = 'rotate('+ x +','+ y +','+ z +')'\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t\tcase 'opacity':\n\n\t\t\t\t\t\t\t\t\t\t\t\tif(parsedStyle.length > 0){\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tparsedStyle.push('opacity');\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tparsedStyle.push(currentProperty.value);\n\t\t\t\t\t\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tparsedStyle[0] = 'opacity';\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tparsedStyle[1] = currentProperty.value;\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn parsedStyle;\n\n\t\t\t\t}\n\t\t\t\tgenerateTransition(elem) {\n\n\t\t\t\t\t\tvar transition = [];\n\t\t\t\t\t\ttransition[0] = 'transition';\n\t\t\t\t\t\ttransition[1] = '';\n\n\t\t\t\t\t\t//We decided to check final styles value to add proper properties ( also initial state can be set in CSS too)\n\t\t\t\t\t\tfor (var i = 0; i < elem.finalStyles.length; i++) {\n\n\t\t\t\t\t\t\t\tvar finalStyle = elem.finalStyles[i];\n\t\t\t\t\t\t\t\ttransition[1] += finalStyle.style[0]+' '+ finalStyle.duration / 1000 + 's '+finalStyle.easing+' '+finalStyle.delay / 1000 + 's';\n\n\t\t\t\t\t\t\t\tif(i != elem.finalStyles.length - 1){\n\t\t\t\t\t\t\t\t\t\ttransition[1] += ' , ';\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn transition;\n\n\t\t\t\t}\n\n\t\t\t\taddEvents(){\n\n\t\t\t\t\t\tconsole.log('addEvents this.handlers',this.handlers);\n\n\t\t\t\t\t\tthis.handlers.debounce   = this.debounce.bind(this);\n\t\t\t\t\t\t//this.handlers.resize     = this.resize.bind(this);\n\t\t\t\t\t\tthis.handlers.run        = this.run.bind(this);\n\n\t\t\t\t\t\twindow.addEventListener('scroll', this.handlers.debounce);\n\t\t\t\t\t\t//window.addEventListener('resize', this.handlers.resize);\n\n\t\t\t\t}\n\t\t\t\tremoveEvents(){\n\n\t\t\t\t\t\tconsole.log('removeEvents this.handlers',this.handlers);\n\n\t\t\t\t\t\twindow.removeEventListener('scroll', this.handlers.debounce);\n\t\t\t\t\t\t//window.removeEventListener('resize', this.handlers.resize);\n\n\t\t\t\t\t\traf.cancel(this.raf);\n\n\t\t\t\t\t\tthis.handlers = {\n\t\t\t\t\t\t\t\trun: null,\n\t\t\t\t\t\t\t\tdebounce: null,\n\t\t\t\t\t\t\t\tresize: null\n\t\t\t\t\t\t};\n\n\t\t\t\t}\n\t\t\t\tremoveFakeScrollHeight(){\n\n\t\t\t\t\t\tthis.fakeDiv.parentNode.removeChild(this.fakeDiv);\n\t\t\t\t\t\tthis.fakeDiv = null;\n\n\t\t\t\t\t\tthis.smoothSection.el.style.position = \"relative\";\n\t\t\t\t\t\tthis.smoothSection.el.style.width = \"auto\";\n\t\t\t\t\t\tthis.smoothSection.el.style.transform = \"\";\n\n\t\t\t\t}\n\t\t\t\taddFakeScrollHeight(value){\n\n\t\t\t\t\t\tif(this.fakeDiv === null){\n\n\t\t\t\t\t\t\t\tthis.fakeDiv = document.createElement(\"div\");\n\t\t\t\t\t\t\t\tthis.fakeDiv.className = \"smooth-fake-scroll\";\n\t\t\t\t\t\t\t\tthis.fakeDiv.style.height = value+\"px\";\n\n\t\t\t\t\t\t\t\tthis.smoothSection.el.parentNode.insertBefore(this.fakeDiv, this.smoothSection.el.nextSibling);\n\t\t\t\t\t\t}else{\n\n\t\t\t\t\t\t\t\tthis.fakeDiv.style.height = value+\"px\";\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tthis.smoothSection.el.style.position = \"fixed\";\n\t\t\t\t\t\tthis.smoothSection.el.style.width = \"100%\";\n\n\t\t\t\t}\n\t\t\t\taddFakeHeight(value){\n\n\t\t\t\t\t\tthis.dom.style.height = value + 'px';\n\n\t\t\t\t}\n\t\t\t\tremoveFakeHeight(){\n\n\t\t\t\t\t\tthis.dom.style.height = 'auto';\n\n\t\t\t\t}\n\t\t\t\tscrollTo(value){\n\n\t\t\t\t\t\t//TODO ADD COOL SCROLLING AND EASING\n\n\t\t\t\t}\n\n\t\t\t\tgetOffset(el){\n\n\t\t\t\t\t\tvar bodyRect    = this.dom.getBoundingClientRect(),\n\t\t\t\t\t\telemRect        = el.getBoundingClientRect(),\n\t\t\t\t\t\toffset          = elemRect.top - bodyRect.top;\n\n\t\t\t\t\t\treturn offset;\n\n\t\t\t\t}\n\n\t\t\t\t//here we receive the actual DOM element and the animation\n\t\t\t\tgetPositionStart(el , animation){\n\n\t\t\t\t\t\tif(animation.start === 'in-viewport'){\n\n\t\t\t\t\t\t\t\tvar offset = this.getOffset(el);\n\t\t\t\t\t\t\t\tvar elementHeight = el.offsetHeight;\n\t\t\t\t\t\t\t\tvar windowHeight = this.vars.height;\n\n\t\t\t\t\t\t\t\tvar factor = animation.viewFactorStart ? animation.viewFactorStart : 0;\n\n\t\t\t\t\t\t\t\tif( isNaN(factor) && factor.indexOf('px') !== -1 ){\n\t\t\t\t\t\t\t\t\t\tvar positionTop = offset - windowHeight + parseInt(animation.viewFactorStart, 10);\n\t\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\t\t\tvar positionTop = offset - windowHeight + (elementHeight * factor);\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\treturn positionTop > 0 ? positionTop : 0;\n\n\t\t\t\t\t\t}else{\n\n\t\t\t\t\t\t\t\treturn animation.start;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tgetPositionEnd( el , animation ){\n\n\t\t\t\t\t\tif(animation.end==='out-viewport'){\n\n\t\t\t\t\t\t\t\tvar offset = this.getOffset(el);\n\t\t\t\t\t\t\t\tvar elementHeight = el.offsetHeight;\n\t\t\t\t\t\t\t\tvar factor = animation.viewFactorEnd ? animation.viewFactorEnd : 0;\n\n\t\t\t\t\t\t\t\tvar positionBottom = offset + elementHeight - (elementHeight * factor);\n\n\t\t\t\t\t\t\t\treturn positionBottom > this.vars.documentHeight - this.vars.height ? this.vars.documentHeight - this.vars.height : positionBottom;\n\n\t\t\t\t\t\t}else{\n\n\t\t\t\t\t\t\t\treturn animation.end;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tfindStart(array){\n\t\t\t\t\t\tvar min = Number.MAX_VALUE,\n\t\t\t\t\t\t\ta = array.length,\n\t\t\t\t\t\t\tcounter\n\n\t\t\t\t\t\tfor (counter=0;counter<a;counter++)\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tif (array[counter].startValue < min)\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\tmin = array[counter].startValue\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn min\n\t\t\t\t}\n\n\t\t\t\tfindEnd(array){\n\t\t\t\t\t\tvar max = 0,\n\t\t\t\t\t\t\ta = array.length,\n\t\t\t\t\t\t\tcounter\n\n\t\t\t\t\t\tfor (counter=0;counter<a;counter++)\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tif (array[counter].endValue > max)\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\tmax = array[counter].endValue\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn max\n\t\t\t\t}\n\n\t\t\t\tgetDocumentHeight(){\n\n\t\t\t\t\t\tvar body = this.dom,\n\t\t\t\t\t\thtml = document.documentElement;\n\n\t\t\t\t\t\treturn Math.max( body.scrollHeight, body.offsetHeight,\n\t\t\t\t\t\t\t\t\t\t\t html.clientHeight, html.scrollHeight, html.offsetHeight );\n\n\t\t\t\t}\n\n\t\t\t\t//Here we check all element and set their data correctly\n\t\t\t\t//Mostly usefull to parse viewport relative timeline\n\t\t\t\treflow(){\n\n\t\t\t\t\t\tvar end = 0;\n\n\t\t\t\t\t\tfor (var i = 0; i < this.elementsParallaxe.length; i++) {\n\n\t\t\t\t\t\t\t\tvar element = this.elementsParallaxe[i];\n\n\t\t\t\t\t\t\t\tfor (var j = 0; j < element.animations.length; j++) {\n\n\t\t\t\t\t\t\t\t\t\tvar animation = element.animations[j];\n\n\t\t\t\t\t\t\t\t\t\t//now we check for transform animations array\n\t\t\t\t\t\t\t\t\t\tif( animation.transform ){\n\n\t\t\t\t\t\t\t\t\t\t\t\tfor (var l = 0; l < animation.transform.length; l++) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t//start for each transfor of the array\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tanimation.transform[l].startValue = this.getPositionStart( element.el ,  animation.transform[l]);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tanimation.transform[l].endValue = this.getPositionEnd( element.el ,  animation.transform[l]);\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t}else{\n\n\t\t\t\t\t\t\t\t\t\t\t\tanimation.startValue = this.getPositionStart( element.el , animation );\n\t\t\t\t\t\t\t\t\t\t\t\tanimation.endValue = this.getPositionEnd( element.el ,  animation);\n\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t//we build global sequence if there is a timeline of transform\n\t\t\t\t\t\t\t\t\t\tif( animation.transform ) this.setTransformSequence(animation);\n\n\t\t\t\t\t\t\t\t\t\tif(animation.endValue > end) end = animation.endValue;\n\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfor (var k = 0; k < this.elementsTrigger.length; k++) {\n\n\t\t\t\t\t\t\t\tvar element = this.elementsTrigger[k];\n\n\t\t\t\t\t\t\t\t//here we convert viewport to actual scrolling value if needed\n\n\t\t\t\t\t\t\t\t//TODO IMPROVE THIS FOR TRIGGER\n\t\t\t\t\t\t\t\telement.startValue = this.getPositionStart( element.el , element.trigger);\n\n\t\t\t\t\t\t\t\t//we need also to define initial and final values here\n\t\t\t\t\t\t\t\t//since we just need to applicate them when we reache trigger Y Value\n\n\t\t\t\t\t\t\t\t//Can be optional if set in CSS\n\t\t\t\t\t\t\t\tif(element.trigger.initialValues){\n\t\t\t\t\t\t\t\t\t\telement.initialStyles = [];\n\n\t\t\t\t\t\t\t\t\t\tfor (var i = 0; i < element.trigger.initialValues.length; i++) {\n\n\t\t\t\t\t\t\t\t\t\t\t\tvar value = element.trigger.initialValues[i];\n\n\t\t\t\t\t\t\t\t\t\t\t\telement.initialStyles.push(this.parseStyle(value.animation));\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t//those are required\n\t\t\t\t\t\t\t\telement.finalStyles = [];\n\n\t\t\t\t\t\t\t\tfor (var i = 0; i < element.trigger.finalValues.length; i++) {\n\n\t\t\t\t\t\t\t\t\t\tvar value = element.trigger.finalValues[i];\n\n\t\t\t\t\t\t\t\t\t\tvar animationObject = {\n\t\t\t\t\t\t\t\t\t\t\t\tdelay : value.delay,\n\t\t\t\t\t\t\t\t\t\t\t\tduration : value.duration,\n\t\t\t\t\t\t\t\t\t\t\t\teasing  : value.easing,\n\t\t\t\t\t\t\t\t\t\t\t\tstyle : this.parseStyle(value.animation),\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\telement.finalStyles.push(animationObject);\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\telement.transition  = this.generateTransition( element );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t//check to initiate first state if needed\n\t\t\t\t\t\tif(this.elementsTrigger.length > 0 ) this.checkTriggerElements(this.vars.current);\n\n\t\t\t\t\t\t// Now we computed all start and end of each animation\n\t\t\t\t\t\t// we checked if need to add more scroll to be sure that we can display them all.\n\t\t\t\t\t\tif(this.smoothContainer){\n\n\t\t\t\t\t\t\t\tvar prop = 'height';\n\t\t\t\t\t\t\t\tthis.vars.bounding = this.smoothSection.el.getBoundingClientRect().height;\n\t\t\t\t\t\t\t\tthis.addFakeScrollHeight(this.vars.bounding);\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif( end > this.vars.documentHeight ) this.addFakeHeight(end + this.vars.documentHeight);\n\n\t\t\t\t}\n\n\t\t\t\tresize(){\n\n\t\t\t\t\t\tthis.vars.height = document.documentElement.clientHeight || window.innerHeight;\n\t\t\t\t\t\tthis.vars.width = document.documentElement.clientWidth || window.innerWidth;\n\t\t\t\t\t\tthis.vars.documentHeight = this.getDocumentHeight();\n\t\t\t\t\t\tthis.reflow();\n\n\t\t\t\t}\n\n\t\t\t\tdestroy(){\n\n\t\t\t\t\t\tif(this.fakeDiv) this.removeFakeScrollHeight();\n\t\t\t\t\t\tthis.removeFakeHeight();\n\t\t\t\t\t\tthis.removeEvents();\n\n\t\t\t\t\t\tthis.elementsTrigger.length = 0;\n\t\t\t\t\t\tthis.elementsTrigger = [];\n\n\t\t\t\t\t\tthis.elementsParallaxe.length = 0;\n\t\t\t\t\t\tthis.elementsParallaxe = [];\n\n\t\t\t\t}\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/smooth.js","var now = require('performance-now')\n  , root = typeof window === 'undefined' ? global : window\n  , vendors = ['moz', 'webkit']\n  , suffix = 'AnimationFrame'\n  , raf = root['request' + suffix]\n  , caf = root['cancel' + suffix] || root['cancelRequest' + suffix]\n\nfor(var i = 0; !raf && i < vendors.length; i++) {\n  raf = root[vendors[i] + 'Request' + suffix]\n  caf = root[vendors[i] + 'Cancel' + suffix]\n      || root[vendors[i] + 'CancelRequest' + suffix]\n}\n\n// Some versions of FF have rAF but not cAF\nif(!raf || !caf) {\n  var last = 0\n    , id = 0\n    , queue = []\n    , frameDuration = 1000 / 60\n\n  raf = function(callback) {\n    if(queue.length === 0) {\n      var _now = now()\n        , next = Math.max(0, frameDuration - (_now - last))\n      last = next + _now\n      setTimeout(function() {\n        var cp = queue.slice(0)\n        // Clear queue here to prevent\n        // callbacks from appending listeners\n        // to the current frame's queue\n        queue.length = 0\n        for(var i = 0; i < cp.length; i++) {\n          if(!cp[i].cancelled) {\n            try{\n              cp[i].callback(last)\n            } catch(e) {\n              setTimeout(function() { throw e }, 0)\n            }\n          }\n        }\n      }, Math.round(next))\n    }\n    queue.push({\n      handle: ++id,\n      callback: callback,\n      cancelled: false\n    })\n    return id\n  }\n\n  caf = function(handle) {\n    for(var i = 0; i < queue.length; i++) {\n      if(queue[i].handle === handle) {\n        queue[i].cancelled = true\n      }\n    }\n  }\n}\n\nmodule.exports = function(fn) {\n  // Wrap in a new function to prevent\n  // `cancel` potentially being assigned\n  // to the native rAF function\n  return raf.call(root, fn)\n}\nmodule.exports.cancel = function() {\n  caf.apply(root, arguments)\n}\nmodule.exports.polyfill = function() {\n  root.requestAnimationFrame = raf\n  root.cancelAnimationFrame = caf\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/raf/index.js\n// module id = 1\n// module chunks = 0","// Generated by CoffeeScript 1.7.1\n(function() {\n  var getNanoSeconds, hrtime, loadTime;\n\n  if ((typeof performance !== \"undefined\" && performance !== null) && performance.now) {\n    module.exports = function() {\n      return performance.now();\n    };\n  } else if ((typeof process !== \"undefined\" && process !== null) && process.hrtime) {\n    module.exports = function() {\n      return (getNanoSeconds() - loadTime) / 1e6;\n    };\n    hrtime = process.hrtime;\n    getNanoSeconds = function() {\n      var hr;\n      hr = hrtime();\n      return hr[0] * 1e9 + hr[1];\n    };\n    loadTime = getNanoSeconds();\n  } else if (Date.now) {\n    module.exports = function() {\n      return Date.now() - loadTime;\n    };\n    loadTime = Date.now();\n  } else {\n    module.exports = function() {\n      return new Date().getTime() - loadTime;\n    };\n    loadTime = new Date().getTime();\n  }\n\n}).call(this);\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/performance-now/lib/performance-now.js\n// module id = 2\n// module chunks = 0","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/process/browser.js\n// module id = 3\n// module chunks = 0","'use strict';\n\nvar style = document.createElement('p').style,\n    prefixes = 'O ms Moz webkit'.split(' '),\n    hasPrefix = /^(o|ms|moz|webkit)/,\n    upper = /([A-Z])/g,\n    memo = {};\n\nfunction get(key){\n    return (key in memo) ? memo[key] : memo[key] = prefix(key);\n}\n\nfunction prefix(key){\n    var capitalizedKey = key.replace(/-([a-z])/g, function(s, match){\n            return match.toUpperCase();\n        }),\n        i = prefixes.length,\n        name;\n\n    if (style[capitalizedKey] !== undefined) return capitalizedKey;\n\n    capitalizedKey = capitalize(key);\n\n    while (i--) {\n        name = prefixes[i] + capitalizedKey;\n        if (style[name] !== undefined) return name;\n    }\n\n    throw new Error('unable to prefix ' + key);\n}\n\nfunction capitalize(str){\n    return str.charAt(0).toUpperCase() + str.slice(1);\n}\n\nfunction dashedPrefix(key){\n    var prefixedKey = get(key),\n        upper = /([A-Z])/g;\n\n    if (upper.test(prefixedKey)) {\n        prefixedKey = (hasPrefix.test(prefixedKey) ? '-' : '') + prefixedKey.replace(upper, '-$1');\n    }\n\n    return prefixedKey.toLowerCase();\n}\n\nmodule.exports = get;\nmodule.exports.dash = dashedPrefix;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vendor-prefix/index.js\n// module id = 4\n// module chunks = 0"],"sourceRoot":""}